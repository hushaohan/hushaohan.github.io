%!TEX root = cv.tex

\section{\sc Patents}

\begin{luacode*}

local utils = require 'utils'
tex.sprint(table.concat(utils.map(
    utils.load_db("../db/patents.json"),
    function(patent) return string.format(
        "\\begin{spacing}{.1}{\\href{%s}{\\emph{%s}\\dotfill{\\sc %s}, %d \\\\\\\\ \\scriptsize\\textsf{\\textcolor{gray}{~~%s}}}}\\\\\\end{spacing}",
        patent.url,
        utils.wrap_str(patent.title, ' ', 64),
        patent.status,
        patent.year,
        patent.number
    )
    end
)))

\end{luacode*}
