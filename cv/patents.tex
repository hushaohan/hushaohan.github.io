%!TEX root = cv.tex
\section{\sc Patents}

\begin{luacode*}

function render_patents(patents)
    local patents_strs = {}
    for _, patent in ipairs(patents)
    do
        table.insert(patents_strs, string.format(
            "\\begin{spacing}{.1}{\\href{%s}{\\emph{%s}\\dotfill{\\sc %s}, %d \\\\\\\\ \\scriptsize\\textsf{\\textcolor{gray}{~~%s}}}}\\\\\\end{spacing}",
            patent.url,
            patent.title,
            patent.status,
            patent.year,
            patent.number
        ))
    end
    return patents_strs
end

local utils = require 'utils'
tex.sprint(table.concat(render_patents(utils.load_db("../db/patents.json"))))

\end{luacode*}
